# --- Models ---
GEMINI_API_KEY=your_api_key_here
RAG_EMBED_MODEL=text-embedding-004
RAG_LLM_MODEL=gemini-1.5-flash
EMBED_DIM=768

# --- Retrieval (Cân bằng chất lượng vs chi phí) ---
HYBRID_ON=true                # ✅ Bật hybrid search để tăng độ chính xác
HYBRID_ALPHA=0.5              # ✅ Cân bằng giữa BM25 và vector search  
RETRIEVE_TOP_K=10             # Giảm từ 12 xuống 10 để tiết kiệm
CONTEXT_K=6                   # Giữ nguyên 6 chunks (đủ context)
MMR_LAMBDA=0.6                # Tăng diversity để có thông tin đa dạng hơn

# --- Rerank (Cân bằng: bật để tăng chất lượng nhưng giảm overhead) ---
RERANK_ON=true                # ✅ Bật rerank để chọn chunks tốt nhất (local, không tốn API)

# --- Generation guardrail ---
GENERATE_MIN_SIM=0.20
ANSWER_MIN_CONTEXT_PROB=0.30
ANSWER_MIN_DIRECT_PROB=0.20

# --- Storage/Cache ---
VECTOR_STORE=faiss
PERSIST_DIR=./storage
ENABLE_EMBED_CACHE=true
EMBED_CACHE_DIR=./storage/emb_cache
ENABLE_ANSWER_CACHE=true      # ✅ Bật cache câu trả lời
ANSWER_CACHE_DB=./storage/answer_cache.sqlite
INGEST_JOBS_DB=./storage/ingest_jobs.sqlite
UPLOAD_DIR=./uploads

# --- Upload constraints ---
MAX_FILES=5
MAX_FILE_MB=10

# --- OCR (tùy chọn) ---
TESSERACT_CMD=C:\Program Files\Tesseract-OCR\tesseract.exe
OCR_LANG=vie

# --- Generation / model tuning ---
GEN_TEMPERATURE=0.3
GEN_MAX_OUTPUT_TOKENS=1024

# --- Debug / diagnostics (tùy chọn, bật khi test) ---
#DEBUG_MODE=true
#LOG_LEVEL=DEBUG
