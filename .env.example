# --- Models ---
GEMINI_API_KEY=your_gemini_api_key_here
RAG_EMBED_MODEL=text-embedding-004
RAG_LLM_MODEL=gemini-2.0-flash-001
EMBED_DIM=768
# --- Retrieval (Cân bằng chất lượng vs chi phí) ---
HYBRID_ON=true                # ✅ Bật hybrid search để tăng độ chính xác
HYBRID_ALPHA=0.6              # Tăng ưu tiên cho BM25 để tìm kiếm từ khóa chính xác hơn
RETRIEVE_TOP_K=12             # Lấy đủ candidates để rerank tốt
CONTEXT_K=10                  # Giảm xuống 10 để tránh context quá dài, tập trung vào chunks chất lượng cao
MMR_LAMBDA=0.7                # Tăng diversity để có thông tin đa dạng hơn
# --- Rerank (Cân bằng: bật để tăng chất lượng nhưng giảm overhead) ---
RERANK_ON=true                # ✅ Bật rerank để chọn chunks tốt nhất (local, không tốn API)
# RERANK_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2  # (tùy chọn) sử dụng cross-encoder local nếu có
# --- Generation guardrail ---
GENERATE_MIN_SIM=0.25
ANSWER_MIN_CONTEXT_PROB=0.35
ANSWER_MIN_DIRECT_PROB=0.25
# --- Storage/Cache ---
VECTOR_STORE=faiss
PERSIST_DIR=./storage
ENABLE_EMBED_CACHE=true
EMBED_CACHE_DIR=./storage/emb_cache
ENABLE_ANSWER_CACHE=true      # ✅ Bật cache câu trả lời
ANSWER_CACHE_DB=./storage/answer_cache.sqlite
INGEST_JOBS_DB=./storage/ingest_jobs.sqlite
UPLOAD_DIR=./uploads
# --- Upload constraints ---
MAX_FILES=5
MAX_FILE_MB=10
# --- OCR (tùy chọn) ---
TESSERACT_CMD=C:\Program Files\Tesseract-OCR\tesseract.exe
OCR_LANG=vie
# --- Generation / model tuning ---
GEN_TEMPERATURE=0.08
GEN_MAX_OUTPUT_TOKENS=1024
# --- Debug / diagnostics (tùy chọn, bật khi test) ---
#DEBUG_MODE=true
#LOG_LEVEL=DEBUG

# test session
TEST_SESSION_ID = c98fecb37fbf44d9b5f77b4e28ee5d73
